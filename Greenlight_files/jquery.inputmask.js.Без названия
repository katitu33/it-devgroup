!function(e){void 0==e.fn.inputmask&&(e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:e.noop,onKeyDown:e.noop,showMaskOnHover:!0,numericInput:!1,radixPoint:".",definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,16,17,18,20,27,33,34,35,36,37,38,39,40,46,91,93,108]},val:e.fn.val},e.fn.inputmask=function(t,n){function a(t){var i=M.aliases[t];return!!i&&(i.alias&&a(i.alias),e.extend(!0,M,i),e.extend(!0,M,n),!0)}function i(){var t=!1,n=0;1==M.mask.length&&0==M.greedy&&(M.placeholder="");for(var a=e.map(M.mask.split(""),function(e,a){var i=[];if(e==M.escapeChar)t=!0;else if(e!=M.optionalmarker.start&&e!=M.optionalmarker.end||t){var r=M.definitions[e];if(r&&!t)for(var s=0;s<r.cardinality;s++)i.push(l(n+s));else i.push(e),t=!1;return n+=i.length,i}}),i=a.slice(),r=1;r<M.repeat&&M.greedy;r++)i=i.concat(a.slice());return i}function r(){var t=!1,n=!1,a=!1;return e.map(M.mask.split(""),function(e,i){var r=[];if(e==M.escapeChar)n=!0;else if(e!=M.optionalmarker.start||n){if(e!=M.optionalmarker.end||n){var s=M.definitions[e];if(s&&!n){for(var u=s.prevalidator,o=u?u.length:0,l=1;l<s.cardinality;l++){var f=o>=l?u[l-1]:[],c=f.validator,d=f.cardinality;r.push({fn:c?"string"==typeof c?new RegExp(c):new function(){this.test=c}:new RegExp("."),cardinality:d||1,optionality:t,newBlockMarker:1==t&&a,offset:0,casing:s.casing,def:e}),1==t&&(a=!1)}r.push({fn:s.validator?"string"==typeof s.validator?new RegExp(s.validator):new function(){this.test=s.validator}:new RegExp("."),cardinality:s.cardinality,optionality:t,newBlockMarker:a,offset:0,casing:s.casing,def:e})}else r.push({fn:null,cardinality:0,optionality:t,newBlockMarker:a,offset:0,casing:null,def:e}),n=!1;return a=!1,r}t=!1,a=!0}else t=!0,a=!0})}function s(e,t,n,a){if(e<0||e>=f())return!1;for(var i=o(e),r=t?1:0,s="",u=w[i].cardinality;u>r;u--)s+=v(n,i-(u-1));return t&&(s+=t),null!=w[i].fn&&w[i].fn.test(s,n,e,a,M)}function u(e){var t=o(e),n=w[t];return void 0!=n&&n.fn}function o(e){return e%w.length}function l(e){return M.placeholder.charAt(e%M.placeholder.length)}function f(){var e=x.length;return!M.greedy&&M.repeat>1&&(e+=x.length*(M.repeat-1)),e}function c(e,t){var n=f();if(t>=n)return n;for(var a=t;++a<n&&!u(a););return a}function d(e,t){var n=t;if(n<=0)return 0;for(;--n>0&&!u(n););return n}function p(e,t,n){var a=w[o(t)],i=n;if(void 0!=i)switch(a.casing){case"upper":i=n.toUpperCase();break;case"lower":i=n.toLowerCase()}e[t]=i}function v(e,t,n){return n&&(t=h(e,t)),e[t]}function h(e,t,n){var a;if(n)for(;t<0&&e.length<f();)for(a=x.length-1,t=x.length;void 0!==x[a];)e.unshift(x[a--]);else for(;void 0==e[t]&&e.length<f();)for(a=0;void 0!==x[a];)e.push(x[a++]);return t}function m(e,t,n){e._valueSet(t.join("")),void 0!=n&&(T?setTimeout(function(){G(e,n)},100):G(e,n))}function g(e,t,n){for(var a=t,i=f();a<n&&a<i;a++)p(e,a,v(x.slice(),a))}function k(e,t){var n=o(t);p(e,t,v(x,n))}function _(t,n,a,i){var r=e(t).data("inputmask").isRTL,d=b(t._valueGet(),r).split("");if(r){var h=f(),_=d.reverse();_.length=h;for(var y=0;y<h;y++){var E=o(h-(y+1));null==w[E].fn&&_[y]!=v(x,E)?(_.splice(y,0,v(x,E)),_.length=h):_[y]=_[y]||v(x,E)}d=_.reverse()}g(n,0,n.length),n.length=x.length;for(var C,G=-1,A=-1,h=f(),P=d.length,S=0==P?h:-1,y=0;y<P;y++)for(var T=A+1;T<h;T++){if(u(T)){var D=d[y];!1!==(C=s(T,D,n,!a))?(!0!==C&&(T=C.pos||T,D=C.c||D),p(n,T,D),G=A=T):(k(n,T),D==l(T)&&(A=T,S=T));break}if(k(n,T),G==A&&(G=T),A=T,d[y]==v(n,T))break}if(0==M.greedy)for(var O=b(n.join(""),r).split("");n.length!=O.length;)r?n.shift():n.pop();return a&&m(t,n),r?M.numericInput?-1!=e.inArray(M.radixPoint,n)&&!0!==i?e.inArray(M.radixPoint,n):c(n,h):c(n,S):c(n,G)}function y(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")}function b(e,t){return t?e.replace(new RegExp("^("+y(x.join(""))+")*"),""):e.replace(new RegExp("("+y(x.join(""))+")*$"),"")}function E(t,n){_(t,n,!1);var a=n.slice();if(e(t).data("inputmask").isRTL)for(var i=0;i<=a.length-1;i++){var r=o(i);if(!w[r].optionality)break;if(l(i)!=n[i]&&u(i))break;a.splice(0,1)}else for(var i=a.length-1;i>=0;i--){var r=o(i);if(!w[r].optionality)break;if(l(i)!=n[i]&&u(i))break;a.pop()}m(t,a)}function C(t,n){var a=t[0];if(!w||!0!==n&&t.hasClass("hasDatepicker"))return a._valueGet();var i=x.slice();return _(a,i),e.map(i,function(e,t){return u(t)&&e!=v(x.slice(),t)?e:null}).join("")}function G(e,t,n){var a=e.jquery&&e.length>0?e[0]:e;if("number"!=typeof t){var i=T?r:null,r=null;if(null==i){if(a.setSelectionRange)t=a.selectionStart,n=a.selectionEnd;else if(document.selection&&document.selection.createRange){var s=document.selection.createRange();t=0-s.duplicate().moveStart("character",-1e5),n=t+s.text.length}i={begin:t,end:n}}return i}if(n="number"==typeof n?n:t,0==M.insertMode&&t==n&&n++,a.setSelectionRange)a.setSelectionRange(t,n);else if(a.createTextRange){var s=a.createTextRange();s.collapse(!0),s.moveEnd("character",n),s.moveStart("character",t),s.select()}a.focus(),T&&n!=a.selectionEnd&&(r={begin:t,end:n})}function A(t){function n(e){for(var t=!0,n=e._valueGet(),a=n.length,i=0;i<a;i++)if(u(i)&&n.charAt(i)==l(i)){t=!1;break}return t}function a(e,t,n){for(;!u(e)&&e-1>=0;)e--;for(var a=e;a<t&&a<f();a++)if(u(a)){k(O,a);var i=c(O,a),r=v(O,i);if(r!=l(i)){if(i<f()&&!1!==s(a,r,O,!0)&&w[o(a)].def==w[o(i)].def)p(O,a,v(O,i)),k(O,i);else if(u(a))break}else if(void 0==n)break}else k(O,a);return void 0!=n&&p(O,N?t:d(O,t),n),O=b(O.join(""),N).split(""),0==O.length&&(O=x.slice()),e}function i(e,t,n,a){for(var i=e;i<=t&&i<f();i++)if(u(i)){var r=v(O,i);if(p(O,i,n),r!=l(i)){var d=c(O,i);if(!(d<f()))break;if(!1!==s(d,r,O,!0)&&w[o(i)].def==w[o(d)].def)n=r;else{if(u(d))break;n=r}}else if(!0!==a)break}else k(O,i);var h=O.length;return O=b(O.join(""),N).split(""),0==O.length&&(O=x.slice()),t-(h-O.length)}function r(t){I=!1;var n=this,r=t.keyCode,s=G(n);if(M.numericInput){var u=n._valueGet(),o=u.indexOf(M.radixPoint);-1!=o&&(N=s.begin<=o||s.end<=o)}if(r==M.keyCode.BACKSPACE||r==M.keyCode.DELETE||S&&127==r){var d=f();if(0==s.begin&&s.end==d)O=x.slice(),m(n,O),G(n,_(n,O,!1));else if(s.end-s.begin>1||s.end-s.begin==1&&M.insertMode)g(O,s.begin,s.end),m(n,O,N?_(n,O,!1):s.begin);else{var p=s.begin-(r==M.keyCode.DELETE?0:1);p<U&&r==M.keyCode.DELETE&&(p=U),p>=U&&(M.numericInput&&M.greedy&&r==M.keyCode.DELETE&&O[p]==M.radixPoint&&(p=c(O,p),N=!1),N?(p=i(U,p,l(p),!0),p=M.numericInput&&M.greedy&&r==M.keyCode.BACKSPACE&&O[p+1]==M.radixPoint?p+1:c(O,p)):p=a(p,d),m(n,O,p))}return n._valueGet()==x.join("")&&e(n).trigger("cleared"),!1}if(r==M.keyCode.END||r==M.keyCode.PAGE_DOWN)return setTimeout(function(){var e=_(n,O,!1,!0);M.insertMode||e!=f()||t.shiftKey||e--,G(n,t.shiftKey?s.begin:e,e)},0),!1;if(r==M.keyCode.HOME||r==M.keyCode.PAGE_UP)return G(n,0,t.shiftKey?s.begin:0),!1;if(r==M.keyCode.ESCAPE)return n._valueSet(R),G(n,0,_(n,O)),!1;if(r==M.keyCode.INSERT)return M.insertMode=!M.insertMode,G(n,M.insertMode||s.begin!=f()?s.begin:s.begin-1),!1;if(t.ctrlKey&&88==r)setTimeout(function(){G(n,_(n,O,!0))},0);else if(!M.insertMode){if(r==M.keyCode.RIGHT){var v=s.begin==s.end?s.end+1:s.end;return v=v<f()?v:s.end,G(n,t.shiftKey?s.begin:v,t.shiftKey?v+1:v),!1}if(r==M.keyCode.LEFT){var v=s.begin-1;return v=v>0?v:0,G(n,v,t.shiftKey?s.end:v),!1}}M.onKeyDown.call(this,t,M),j=-1!=e.inArray(r,M.ignorables)}function y(t){if(I)return!1;I=!0;var r=this,u=e(r);t=t||window.event;var o=t.which||t.charCode||t.keyCode;if(M.numericInput&&o==M.radixPoint.charCodeAt(M.radixPoint.length-1)){var k=r._valueGet(),_=k.indexOf(M.radixPoint);G(r,c(O,-1!=_?_:f()))}if(t.ctrlKey||t.altKey||t.metaKey||j)return!0;if(o){u.trigger("input");var y=G(r),b=String.fromCharCode(o),E=f();if(g(O,y.begin,y.end),N){var C,A=M.numericInput?y.end:d(O,y.end);if(!1!==(C=s(A==E||v(O,A)==M.radixPoint?d(O,A):A,b,O,!1))){!0!==C&&(A=C.pos||y,b=C.c||b);var P=U;if(1==M.insertMode){if(1==M.greedy)for(var S=O.slice();v(S,P,!0)!=l(P)&&P<=A;)P=P==E?E+1:c(O,P);if(!(P<=A&&(M.greedy||O.length<E)))return!1;if(O[U]!=l(U)&&O.length<E){var D=h(O,-1,N);0!=y.end&&(A+=D),E=O.length}a(P,M.numericInput?d(O,A):A,b)}else p(O,M.numericInput?d(O,A):A,b);m(r,O,M.numericInput&&0==A?c(O,A):A),setTimeout(function(){n(r)&&u.trigger("complete")},0)}else T&&m(r,O,y.begin)}else{var C,A=c(O,y.begin-1);if(h(O,A,N),!1!==(C=s(A,b,O,!1))){if(!0!==C&&(A=C.pos||A,b=C.c||b),1==M.insertMode){for(var x=f(),S=O.slice();v(S,x,!0)!=l(x)&&x>=A;)x=0==x?-1:d(O,x);if(!(x>=A))return!1;i(A,O.length,b)}else p(O,A,b);var w=c(O,A);m(r,O,w),setTimeout(function(){n(r)&&u.trigger("complete")},0)}else T&&m(r,O,y.begin)}return!1}}function C(t){var n=e(this),a=this,i=t.keyCode;M.onKeyUp.call(this,t,M),i==M.keyCode.TAB&&n.hasClass("focus.inputmask")&&0==a._valueGet().length&&(O=x.slice(),m(a,O),N||G(a,0),R=a._valueGet())}var A=e(t);if(A.is(":input")){M.greedy=M.greedy?M.greedy:0==M.repeat;var D=A.prop("maxLength");f()>D&&D>-1&&(D<x.length&&(x.length=D),0==M.greedy&&(M.repeat=Math.round(D/x.length))),A.prop("maxLength",2*f()),A.data("inputmask",{tests:w,_buffer:x,greedy:M.greedy,repeat:M.repeat,autoUnmask:M.autoUnmask,definitions:M.definitions,isRTL:!1}),function(t){var n;Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(t,"value")),n&&n.get?t._valueGet||(t._valueGet=n.get,t._valueSet=n.set,Object.defineProperty(t,"value",{get:function(){var t=e(this),n=e(this).data("inputmask");return n&&n.autoUnmask?t.inputmask("unmaskedvalue"):this._valueGet()!=n._buffer.join("")?this._valueGet():""},set:function(t){this._valueSet(t),e(this).triggerHandler("setvalue.inputmask")}})):document.__lookupGetter__&&t.__lookupGetter__("value")?t._valueGet||(t._valueGet=t.__lookupGetter__("value"),t._valueSet=t.__lookupSetter__("value"),t.__defineGetter__("value",function(){var t=e(this),n=e(this).data("inputmask");return n&&n.autoUnmask?t.inputmask("unmaskedvalue"):this._valueGet()!=n._buffer.join("")?this._valueGet():""}),t.__defineSetter__("value",function(t){this._valueSet(t),e(this).triggerHandler("setvalue.inputmask")})):(t._valueGet||(t._valueGet=function(){return this.value},t._valueSet=function(e){this.value=e}),1!=e.fn.val.inputmaskpatch&&(e.fn.val=function(){if(0==arguments.length){var t=e(this);if(t.data("inputmask")){if(t.data("inputmask").autoUnmask)return t.inputmask("unmaskedvalue");var n=e.inputmask.val.apply(t);return n!=t.data("inputmask")._buffer.join("")?n:""}return e.inputmask.val.apply(t)}var a=arguments;return this.each(function(){var t=e(this),n=e.inputmask.val.apply(t,a);return t.data("inputmask")&&t.triggerHandler("setvalue.inputmask"),n})},e.extend(e.fn.val,{inputmaskpatch:!0})))}(t);var O=x.slice(),R=t._valueGet(),I=!1,j=!1,L=-1,U=c(O,-1),N=(d(O,f()),!1);if("rtl"==t.dir||M.numericInput){t.dir="ltr",A.css("text-align","right"),A.removeAttr("dir");var K=A.data("inputmask");K.isRTL=!0,A.data("inputmask",K),N=!0}A.unbind(".inputmask"),A.removeClass("focus.inputmask"),A.bind("mouseenter.inputmask",function(){var t=e(this),n=this;if(!t.hasClass("focus.inputmask")&&M.showMaskOnHover){var a=n._valueGet().length;a<O.length&&(0==a&&(O=x.slice()),m(n,O))}}).bind("blur.inputmask",function(){var t=e(this),a=this,i=a._valueGet();t.removeClass("focus.inputmask"),i!=R&&t.change(),M.clearMaskOnLostFocus&&(i==x.join("")?a._valueSet(""):E(a,O)),n(a)||(t.trigger("incomplete"),M.clearIncomplete&&(M.clearMaskOnLostFocus?a._valueSet(""):(O=x.slice(),m(a,O))))}).bind("focus.inputmask",function(){var t=e(this),n=this;if(!t.hasClass("focus.inputmask")&&!M.showMaskOnHover){var a=n._valueGet().length;a<O.length&&(0==a&&(O=x.slice()),G(n,_(n,O,!0)))}t.addClass("focus.inputmask"),R=n._valueGet()}).bind("mouseleave.inputmask",function(){var t=e(this),n=this;M.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||(n._valueGet()==x.join("")||""==n._valueGet()?n._valueSet(""):E(n,O)))}).bind("click.inputmask",function(){var e=this;setTimeout(function(){var t=G(e);if(t.begin==t.end){var n=t.begin;L=_(e,O,!1),N?G(e,n>L&&(!1!==s(n,O[n],O,!0)||!u(n))?n:L):G(e,n<L&&(!1!==s(n,O[n],O,!0)||!u(n))?n:L)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){G(e,0,L)},0)}).bind("keydown.inputmask",r).bind("keypress.inputmask",y).bind("keyup.inputmask",C).bind(P+".inputmask, dragdrop.inputmask, drop.inputmask",function(){var e=this;setTimeout(function(){G(e,_(e,O,!0))},0)}).bind("setvalue.inputmask",function(){var e=this;R=e._valueGet(),_(e,O,!0),e._valueGet()==x.join("")&&e._valueSet("")}).bind("complete.inputmask",M.oncomplete).bind("incomplete.inputmask",M.onincomplete).bind("cleared.inputmask",M.oncleared),L=_(t,O,!0);var H;try{H=document.activeElement}catch(e){}H===t?(A.addClass("focus.inputmask"),G(t,L)):M.clearMaskOnLostFocus&&(t._valueGet()==x.join("")?t._valueSet(""):E(t,O)),function(t){var n=e._data(t).events;e.each(n,function(n,a){e(t).bind(n+".inputmask",function(e){if(this.readOnly||this.disabled)return e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1});for(var i=a[a.length-1],r=a.length-1;r>0;r--)a[r]=a[r-1];a[0]=i})}(t)}}var M=e.extend(!0,{},e.inputmask.defaults,n),P=function(e){var t=document.createElement("input"),e="on"+e,n=e in t;return n||(t.setAttribute(e,"return;"),n="function"==typeof t[e]),t=null,n}("paste")?"paste":"input",S=null!=navigator.userAgent.match(/iphone/i),T=null!=navigator.userAgent.match(/android.*mobile safari.*/i);if(T){var D=navigator.userAgent.match(/mobile safari.*/i),O=parseInt(new RegExp(/[0-9]+/).exec(D));T=O<=533}if("string"==typeof t)switch(t){case"mask":var x=i(),w=r();return this.each(function(){A(this)});case"unmaskedvalue":var w=this.data("inputmask").tests,x=this.data("inputmask")._buffer;return M.greedy=this.data("inputmask").greedy,M.repeat=this.data("inputmask").repeat,M.definitions=this.data("inputmask").definitions,C(this);case"remove":var w,x;return this.each(function(){var t=e(this),n=this;setTimeout(function(){if(t.data("inputmask")){w=t.data("inputmask").tests,x=t.data("inputmask")._buffer,M.greedy=t.data("inputmask").greedy,M.repeat=t.data("inputmask").repeat,M.definitions=t.data("inputmask").definitions,n._valueSet(C(t,!0)),t.removeData("inputmask"),t.unbind(".inputmask"),t.removeClass("focus.inputmask");var e;Object.getOwnPropertyDescriptor&&(e=Object.getOwnPropertyDescriptor(n,"value")),e&&e.get?n._valueGet&&Object.defineProperty(n,"value",{get:n._valueGet,set:n._valueSet}):document.__lookupGetter__&&n.__lookupGetter__("value")&&n._valueGet&&(n.__defineGetter__("value",n._valueGet),n.__defineSetter__("value",n._valueSet)),delete n._valueGet,delete n._valueSet}},0)});case"getemptymask":return this.data("inputmask")?this.data("inputmask")._buffer.join(""):"";case"hasMaskedValue":return!!this.data("inputmask")&&!this.data("inputmask").autoUnmask;default:a(t)||(M.mask=t);var x=i(),w=r();return this.each(function(){A(this)})}if("object"==typeof t){M=e.extend(!0,{},e.inputmask.defaults,t),a(M.alias);var x=i(),w=r();return this.each(function(){A(this)})}})}(jQuery);